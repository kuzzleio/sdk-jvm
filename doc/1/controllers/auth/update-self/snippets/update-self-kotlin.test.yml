name: kotlin-Auth#UpdateSelf
description: Updates the current user object in Kuzzle.
hooks:
  before: curl -X POST kuzzle:7512/users/foo/_create?refresh=wait_for -H "Content-Type:application/json" --data '{"content":{"profileIds":["default"]},"credentials":{"local":{"username":"foo","password":"bar"}}}'
  after: curl -X DELETE kuzzle:7512/users/foo?refresh=wait_for
template: print-result
expected: ^{_source={profileIds=\[default\],\ _kuzzle_info={.+},\ age=42},\ _id=foo}$

protocols:
  - http
  - websocket
